<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org" xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout" layout:decorate="~{layout/layout}" layout:fragment="content">
<head>
    <meta charset="UTF-8">
    <title>Animal Data</title>
    <style>
        body {
            margin-top: 130px;
            font-family: Arial, sans-serif;
        }

        h1 {
            text-align: center;
            color: #333;
        }

        form {
            max-width: 800px;
            margin: 0 auto;
            padding: 20px;
            background: #f8f8f8;
            border: 1px solid #ddd;
            border-radius: 8px;
        }

        .fieldset {
            border: none;
        }

        .legend {
            font-size: 1.2em;
            margin-bottom: 10px;
        }

        .tr {
            display: flex;
            flex-wrap: wrap;
            margin-bottom: 10px;
        }

        .form-group {
            flex: 1;
            min-width: 150px;
            margin-right: 10px;
        }

        .lable {
            display: block;
            margin-bottom: 5px;
            font-weight: bold;
        }

        .form-control {
            width: 100%;
            padding: 8px;
            box-sizing: border-box;
            border: 1px solid #ccc;
            border-radius: 4px;
        }

        .hyphen {
            display: inline-block;
            margin: 0 5px;
            font-weight: bold;
        }

        .action-btn-group {
            display: flex;
            justify-content: center;
            margin-top: 20px;
        }

        .btn {
            padding: 10px 20px;
            border: none;
            border-radius: 4px;
            font-size: 16px;
            cursor: pointer;
        }

        .btn-primary {
            background-color: #007bff;
            color: white;
        }

        .w-md {
            width: 150px;
        }

        .icon-search::before {
            content: "\f002";
            font-family: "Font Awesome 5 Free";
            font-weight: 900;
            margin-right: 5px;
        }

        .center {
            display: flex;
            justify-content: center;
        }

        .card {
            border: 1px solid #ddd;
            border-radius: 8px;
            padding: 16px;
            margin: 16px;
            background: #fff;
            box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
            width: 300px;
        }

        .card img {
            max-width: 100%;
            border-radius: 4px;
        }

        .card h2 {
            font-size: 1.5em;
            margin: 0;
            color: #333;
        }

        .card p {
            margin: 8px 0;
            color: #666;
        }
    </style>
</head>
<body>
<h1>Animal Data</h1>
<form id="searchList" method="POST" action="/adoption/search">
    <fieldset>
        <legend>검색조건</legend>
        <div class="tr">
            <div class="form-group date">
                <label class="lable">날짜</label>
                <input type="date" name="searchSDate" id="searchSDate" class="form-control" title="시작일" maxlength="10">
                <div class="hyphen">~</div>
                <input type="date" name="searchEDate" id="searchEDate" class="form-control" title="마감일" maxlength="10">
                <label class="lable">(접수일 기준)</label>
            </div>
        </div>
        <div class="tr">
            <div class="form-group">
                <label class="lable">시도</label>
                <select class="form-control" name="searchUprCd" id="searchUprCd" title="시도선택">
                    <option value="6110000">서울특별시</option>
                    <option value="6260000">부산광역시</option>
                </select>
            </div>
            <div class="form-group">
                <label class="lable">시군구</label>
                <select class="form-control" name="searchOrgCd" id="searchOrgCd" title="시군구선택"></select>
            </div>
        </div>
        <div class="tr">
            <div class="form-group">
                <label class="lable">품종</label>
                <select class="form-control" name="searchKindCd" id="searchKindCd" title="종류선택">
                    <option value="">전체</option>
                    <option value="000114">믹스견</option>
                    <option value="000072">말티즈</option>
                    <option value="000054">골든 리트리버</option>
                    <option value="000056">그레이 하운드</option>
                </select>
            </div>
        </div>
        <div class="action-btn-group">
            <div class="center">
                <button class="btn btn-primary w-md" id="searchButton">
                    <i class="icon-search"></i>조회
                </button>
            </div>
        </div>
    </fieldset>
</form>

<script>
    document.addEventListener("DOMContentLoaded", function() {
        const districts = {
            "6110000": [
                { value: "3220000", text: "강남구" },
                { value: "3240000", text: "강동구" }
            ],
            "6260000": [
                { value: "3360000", text: "강서구" }
            ]
        };

        // 페이지 로드 시 초기화
        loadDistricts(searchUprCd.value);

        // 시도가 변경되었을 때 해당 시도에 속하는 시군구 로드
        searchUprCd.addEventListener("change", function() {
            const selectedUprCd = this.value;
            loadDistricts(selectedUprCd);
        });

        // 해당 시도에 속하는 시군구 로드하는 함수
        function loadDistricts(uprCd) {
            searchOrgCd.innerHTML = ""; // 시군구 선택 목록 초기화
            const districtList = districts[uprCd]; // 선택된 시도의 시군구 목록 가져오기
            districtList.forEach(function(district) {
                const option = new Option(district.text, district.value);
                searchOrgCd.appendChild(option);
            });
        }
    });
</script>
<div th:each="animal : ${animalDataList}">
    <div>
        <img th:src="${animal.imageUrl}" alt="Animal Image" style="width: 50px; height: 50px;">
    </div>
    <div>
        <table>
            <li>Breed: <span th:text="${animal.breed}"></span></li>
            <li>ID: <span th:text="${animal.id}"></span></li>
            <li>Sex: <span th:text="${animal.sex}"></span></li>
            <li>Location: <span th:text="${animal.location}"></span></li>
            <li>Characteristics: <span th:text="${animal.characteristics}"></span></li>
            </ul>
        </table>
    </div>
</div>
</body>
</html>

<!--
<div th:each="animal : ${animalDataList}">
    <div>
        <table>
            <li>Breed: <span th:text="${animal.breed}"></span></li>
            <li>ID: <span th:text="${animal.id}"></span></li>
            <li>Sex: <span th:text="${animal.sex}"></span></li>
            <li>Location: <span th:text="${animal.location}"></span></li>
            <li>Characteristics: <span th:text="${animal.characteristics}"></span></li>
            </ul>
        </table>
    </div>
</div>
-->
